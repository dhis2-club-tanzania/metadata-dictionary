<div class="row" style="margin: 20px">
  <div class="container-fluid">
    <div class="col-sm-2">
      <h4 style="margin-top: 5px">
        <i class="fa fa-home"></i> Indicator Browser
      </h4>
    </div>
    <div class="col-sm-6">
      <input type="text" placeholder="Search groups by name..." class="form-control" [(ngModel)]="search">
    </div>
    <div class="col-sm-4">
      <!--<a routerLink="/indicators" class="btn btn-default btn-sm pull-right" title="View all indicators"><i class="fa fa-list"></i> All Indicators</a>-->
    <!--</div>-->
      <div class="dropdown pull-right">
        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          <i class="fa fa-filter"></i>
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
          <li><a href="#">Action</a></li>
          <li><a href="#">Another action</a></li>
          <li><a href="#">Something else here</a></li>
          <li role="separator" class="divider"></li>
          <li><a href="#">Separated link</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="row" style="margin: 20px" *ngIf="!loading" >
  <!--<h3  class="text-center" style="margin-top: 0px"> ({{indicatorGroups.length}}) Indicator Groups </h3>-->
  <!--<div class="container-fluid">-->
    <!--<h2 class="text-center text-muted">No Group Matches </h2>-->
  <!--</div>-->
  <br>
  <div class="container-fluid">
    <!--Container for indicators-->
    <div class="col-sm-4">
      <div class="panel panel-default  group_details" style="height: 310px;cursor: pointer">
        <div class="panel-body"  title="Click to see indicator details">
          <h4 class="text-center"><span class="ind-summary">{{indicatorSummary.pager.total}}</span>&nbsp;&nbsp;Indicators Available</h4>
          <hr>
          <p class="text-center" *ngFor="let indicator of indicatorSummary.indicators let i =index" (click)="indicatorToDetail(indicator.id,indicator.name,'info')"><strong> {{i+1}}.</strong>{{indicator.name}} &nbsp;<span><i class="metadataIcon1"></i></span></p>
          <!--<p class="text-center"><small>Created By {{indicatorGroup.user?.name}} on {{indicatorGroup.created| date}}</small></p>-->
          <br>
          <p class="text-center"> <button class="btn btn-default btn-sm" (click)="loadAllIndicators()" title="click to see more indicators">More indicators</button></p>
        </div>
      </div>
    </div>
     <!--container for Indicator Groups-->
    <!--*ngIf="indicatorGroupsSummary.indicatorGroups && indicatorGroupsSummary.indicatorGroups.length >0"-->
    <div class="col-sm-4" >
      <div class="panel panel-default  group_details" style="height: 310px;cursor: pointer">
        <div class="panel-body" (click)="navogateToIndicator('indicators',indicatorGroup.id)" title="Click to see indicator details">
          <h4 class="text-center"><span class="ind-summary">{{indicatorGroupsSummary.pager.total}}</span>&nbsp;&nbsp;Indicator Groups Available</h4>
          <hr>
          <p class="text-center" *ngFor="let indgroup of indicatorGroupsSummary.indicatorGroups let i=index"><strong> {{i+1}}.</strong>{{indgroup.name}} &nbsp;<span><i class="metadataIcon1"></i></span></p>
          <!--<p class="text-center"><small>Created By {{indicatorGroup.user?.name}} on {{indicatorGroup.created| date}}</small></p>-->
          <br>
          <p class="text-center"> <button class="btn btn-default btn-sm">More indicators groups</button></p>
        </div>
      </div>
    </div>
    <!--Container for indicator groupset-->
    <!--*ngIf="indicatorGroupSetSummary.indicatorGroupSets && indicatorGroupSetSummary.indicatorGroupSets.length >0"-->
    <div class="col-sm-4">
      <div class="panel panel-default  group_details" style="height: 310px;cursor: pointer">
        <div class="panel-body" (click)="navogateToIndicator('indicators',indicatorGroup.id)" title="Click to see indicator details">
          <h4 class="text-center"><span class="ind-summary">{{indicatorGroupSetSummary.pager.total}} </span>&nbsp;&nbsp;Indicator Group Sets Available</h4>
          <hr>
          <p class="text-center" *ngFor="let groupset of indicatorGroupSetSummary.indicatorGroupSets let i=index"><strong> {{i+1}}.</strong>{{groupset.name}} &nbsp;<span><i class="metadataIcon1"></i></span></p>
          <!--<p class="text-center"><small>Created By {{indicatorGroup.user?.name}} on {{indicatorGroup.created| date}}</small></p>-->

          <br>
          <p class="text-center"> <button class="btn btn-default btn-sm">More Groupsets</button></p>
        </div>
      </div>
    </div>
  </div>
  <!--<div class="text-center">-->
    <!--<pagination-controls (pageChange)="p = $event"></pagination-controls>-->
  <!--</div>-->

</div>
<!--Model to be populated when clicked-->
<div *ngIf="indicatorDetail=='info'">
<p-dialog header="{{indicatorName}}" [(visible)]="display" modal="modal"  width="1200"  responsive="true">
  <p-tabView>
    <p-tabPanel header="Details" leftIcon="fa-book">
      <app-metadata-dictionary [metadataidentifiers]="indicatorIdentifier"></app-metadata-dictionary>
    </p-tabPanel>
    <p-tabPanel header="Analyse" leftIcon="fa-bar-chart">
    <div class="row">
      <p-toolbar>
        <div class="ui-toolbar-group-left">
          <button type="button" label="New" icon="fa-plus">OrgUnits</button>
          <button type="button" label="Open" icon="fa-folder-open">Period</button>
      </div>

        <div class="ui-toolbar-group-right">
         <button pButton type="button" icon="fa-refresh">Update</button>
         </div>
      </p-toolbar>

    </div>

    </p-tabPanel>
  </p-tabView>

  <p-footer>
    <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
      <button type="button" class="btn btn-default" (click)="cancelDialog()" label="No">Cancel</button>
      <!--<button type="button" class="btn btn-default" (click)="display=false" label="Yes">Yes</button>-->
    </div>
  </p-footer>
</p-dialog>
</div>

<div class="row" style="margin: 20px" *ngIf="loading">
  <div class="text-center">
    <img src="balls-5.svg" style="padding-top: 80px; height: 190px;">
  </div>
</div>
